{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Kalindu's Homelab","text":"<p>https://kdecosta.com/homelab/</p> <p> </p> <p>This repository contains the a collection of documentation and the architecture my homelab which includes network architecture as well as IoC and scripts used for automation of hosted services.</p>"},{"location":"#lab-goals","title":"Lab goals","text":""},{"location":"#managed-network-omada","title":"Managed Network (Omada)","text":"<ol> <li>VLANs for device groups</li> <li>Custom SSIDs</li> <li>Network throughput monitoring</li> <li>Support POE devices</li> <li>Custom recursive DNS server / Local DNS</li> </ol>"},{"location":"#hosted-services","title":"Hosted Services","text":"<ol> <li>Virtualized containers</li> <li>Kubernetes for service management</li> <li>Monitoring with Prometheus and Grafana</li> <li>GitLabs server for GitOps / deploys</li> <li>VPN for remote management</li> <li>Load-balancer (envoy / ingress-nginx)</li> </ol>"},{"location":"#backup-archival-storage","title":"Backup / Archival Storage","text":"<ol> <li>TrueNAS for archival and backup storage</li> </ol>"},{"location":"#ioc-and-gitops","title":"IoC and GitOps","text":"<ol> <li>Ansible for container automation</li> <li>Terraform for infrastructure management</li> <li>ChatOps (slack??)</li> </ol>"},{"location":"#security-resiliency","title":"Security / Resiliency","text":"<ol> <li>Certificate management</li> <li>Cloudflare tunnel for exposed services</li> </ol>"},{"location":"#demos-and-screenshots","title":"Demos and Screenshots","text":""},{"location":"#license","title":"License","text":"<p>Distributed under the MIT License, go nuts.</p>"},{"location":"lab/","title":"Full Lab Details","text":"<p>Overview of the lab (mostly hardware)</p>"},{"location":"lab/#update-20230324","title":"Update: 2023/03/24","text":""},{"location":"network/bypass_bell_homehub/","title":"Bypass Bell HomeHub 4000","text":"<p>Just let me use my own hardware :'(</p> <p>Bell Canada provides an all in one proprietary hardware solution for home networking. This is quite limited for my overall goals for this project. Using my own networking hardware allows to easily switch ISPs and without having to lockin to a single ISP. Using my own hardware also allow for better security and resiliency with better community support. For the purposes of this guide, I have the <code>HomeHub 4000</code> and all instructions are for working with the <code>HomeHub 4000</code>.</p>"},{"location":"network/bypass_bell_homehub/#option-1-advanced-dmz-this-is-broken-and-does-not-work-anymore","title":"Option 1: Advanced DMZ (this is broken and does not work anymore)","text":""},{"location":"network/bypass_bell_homehub/#turn-on-dmz","title":"Turn ON DMZ","text":"<ol> <li>Connect router to one of the LAN port (or the 10G port)</li> <li>Visit <code>192.168.2.1</code>, enter HH4000 password <code>(defaults to the serial number of the device)</code></li> <li>Go to <code>Advanced Tool and Settings</code></li> <li>Click on <code>DMZ</code></li> <li>Enable <code>Advanced DMZ</code></li> <li>From the list of devices, locate the <code>MAC</code> address of the router</li> <li>Click on the router and select <code>Activate Device</code></li> <li>Save!</li> </ol>"},{"location":"network/bypass_bell_homehub/#additional-settings","title":"Additional Settings","text":"<ol> <li>Go to <code>Advanced Tool and Settings</code></li> <li>Turn OFF <code>UPnP, DLNA, and SIP ALG</code></li> <li>Select <code>WIFI</code> and disable the onboard wifi, we will be using our own router and APs</li> </ol>"},{"location":"network/bypass_bell_homehub/#calibration-steps","title":"Calibration Steps","text":"<ol> <li>Turn OFF both your router and the HH400 (pull the power cords) for 5-10 mins</li> <li>Turn ON the router and let is completely boot up (this HAS to power on first)</li> <li>Turn ON the HH400</li> </ol> <p>The router should now receive a valid IP and internet. If not, try the above steps again.</p> <p>Things to note, in the event of a power failure, you may have to repeat the above steps for the router to receive a valid public IP. I would first try with the <code>Calibration Steps</code> first to see if the router can acquire a valid public IP.</p> <p>Update: This does not work for me anymore.</p>"},{"location":"network/bypass_bell_homehub/#option-2-pppoe-passthrough","title":"Option 2: PPPoE Passthrough","text":""},{"location":"network/bypass_bell_homehub/#turn-off-unnecessary-settings","title":"Turn OFF unnecessary settings","text":"<ol> <li>Connect router to one of the LAN port (or the 10G port)</li> <li>Visit <code>192.168.2.1</code>, enter HH4000 password <code>(defaults to the serial number of the device)</code></li> <li>Go to <code>Advanced Tool and Settings</code></li> <li>Turn OFF <code>UPnP, DLNA, and SIP ALG</code></li> <li>Select <code>WIFI</code> and disable the onboard wifi, we will be using our own router and APs</li> </ol>"},{"location":"network/bypass_bell_homehub/#find-your-pppoe-credentials","title":"Find your PPPoE credentials","text":"<ol> <li>Login to myBell</li> <li>Go to <code>My Services &gt; Internet</code> and record the userID (it should start with <code>b1</code>)</li> <li>Under <code>Settings</code>, select <code>Change modem access password</code> and create a new access password</li> </ol>"},{"location":"network/bypass_bell_homehub/#configure-your-router","title":"Configure your router","text":"<p>I currently use a TPLink ER7206 as my router and I will be using this as an example of configuring PPPoE passthrough.</p> <ol> <li>Head over to <code>Settings &gt; Wired Networks &gt; Internet</code></li> <li>Select the appropriate <code>WAN</code> setting, I am using the regular RJ45 <code>WAN</code> port on the router to connect to HH400</li> <li>Set <code>Connection Type</code> to PPPoE</li> <li>Add the bell PPPoE credentials (the username/password that were acquired in the previous step)</li> <li>Expand <code>Advanced Settings</code></li> <li>Enable <code>Get IP Address from ISP</code></li> <li>Change the DNS Server to your preferred DNS server provider, I am going use google (8.8.8.8/8.4.4.8)</li> <li>Enable <code>Internet VLAN</code> and use 35 as the tagged value</li> <li>Restart the router!!!</li> </ol> <p></p>"}]}